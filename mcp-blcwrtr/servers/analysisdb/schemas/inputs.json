{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "getPublisherProfile": {
      "type": "object",
      "properties": {
        "domain": {
          "type": "string",
          "format": "hostname",
          "description": "Publisher domain to get profile for"
        }
      },
      "required": ["domain"],
      "additionalProperties": false
    },
    "getAnchorPortfolio": {
      "type": "object",
      "properties": {
        "target_url": {
          "type": "string",
          "format": "uri",
          "description": "Target URL to analyze anchor portfolio for"
        },
        "recalculate": {
          "type": "boolean",
          "default": false,
          "description": "Force recalculation of portfolio metrics"
        }
      },
      "required": ["target_url"],
      "additionalProperties": false
    },
    "getPages": {
      "type": "object",
      "properties": {
        "customer_id": {
          "type": "string",
          "format": "uuid",
          "description": "Optional customer ID to filter pages"
        },
        "type": {
          "type": "string",
          "enum": ["landing", "article", "category", "product"],
          "description": "Optional page type filter"
        },
        "limit": {
          "type": "integer",
          "minimum": 1,
          "maximum": 100,
          "default": 20
        }
      },
      "additionalProperties": false
    },
    "logEvent": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": ["order_received", "preflight_complete", "qc_passed", "qc_failed", "delivered", "error"],
          "description": "Event type"
        },
        "order_ref": {
          "type": "string",
          "format": "uuid",
          "description": "Order reference UUID"
        },
        "payload": {
          "type": "object",
          "description": "Event-specific payload data"
        }
      },
      "required": ["type", "payload"],
      "additionalProperties": false
    }
  }
}
